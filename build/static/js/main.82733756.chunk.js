(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{41:function(e,t,c){},63:function(e,t,c){"use strict";c.r(t);var n=c(0),i=c.n(n),a=c(35),l=c.n(a),s=(c(41),c(11)),r=c(2),o=c(7),d=c.n(o),j=c(9),u=c(3),b=c(14),p=c(19),O=c.n(p),h="http://localhost:7890";function m(){return x.apply(this,arguments)}function x(){return(x=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("".concat(h,"/api/logs"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var f=c(24),g=c(4),v=function(e){var t=e.location,c=e.onClose,n=(e.getEntries,Object(f.a)()),i=n.register,a=n.handleSubmit,l=n.control,r=Object(f.b)({control:l}),o=r.isSubmitted,d=r.isSubmitSuccessful,j=new Date(Date.now()).toISOString().split("T")[0];return Object(g.jsxs)("form",{onSubmit:a((function(e){var n=new FormData;for(var i in n.append("latitude",t.latitude),n.append("longitude",t.longitude),e)n.append(i,e[i]);n.set("image",e.image[0]),O.a.post("".concat("http://localhost:7890","/api/logs"),n).then((function(e){c()})).catch((function(e){return console.log(e)}))})),encType:"multipart/form-data",children:[Object(g.jsx)("input",Object(s.a)(Object(s.a)({className:"display-form start"},i("title",{required:!0})),{},{type:"text",placeholder:"Title"})),Object(g.jsx)("textarea",Object(s.a)(Object(s.a)({className:"display-form",type:"text"},i("description")),{},{placeholder:"Description",rows:3})),Object(g.jsx)("textarea",Object(s.a)(Object(s.a)({className:"display-form"},i("comment")),{},{placeholder:"Comment",rows:3})),Object(g.jsx)("input",Object(s.a)({className:"display-form",type:"file",accept:"image/*"},i("image",{required:!0}))),Object(g.jsxs)("select",Object(s.a)(Object(s.a)({className:"display-form",placeholder:"Rate your experience"},i("rating",{required:!0})),{},{id:"rate",children:[Object(g.jsx)("option",{value:"",children:"--rate your experience--"}),Object(g.jsx)("option",{value:"1",children:"\ud83d\ude21 Poor"}),Object(g.jsx)("option",{value:"2",children:"\ud83d\ude0f Average"}),Object(g.jsx)("option",{value:"3",children:"\ud83d\ude42 Good"}),Object(g.jsx)("option",{value:"4",children:"\ud83d\ude0a Great"}),Object(g.jsx)("option",{value:"5",children:"\ud83d\ude01 Excellent"})]})),Object(g.jsx)("input",Object(s.a)({className:"display-form",type:"Date",max:j,value:j},i("visitDate",{required:!0}))),o&&d?Object(g.jsx)("div",{className:"lds-dual-ring"}):Object(g.jsx)("input",{className:"display-form",type:"submit"})]})},y=function(e){var t=e.location;return Object(g.jsxs)("div",{className:"display-card start",children:[Object(g.jsx)("div",{className:"display-image",children:Object(g.jsx)("img",{src:t.image,alt:"location-header"})}),Object(g.jsx)("h3",{children:t.title}),Object(g.jsxs)("fieldset",{children:[Object(g.jsx)("legend",{children:"Description"}),Object(g.jsx)("small",{children:t.description})]}),Object(g.jsxs)("fieldset",{children:[Object(g.jsx)("legend",{children:"Comment"}),Object(g.jsx)("small",{children:t.comment})]}),Object(g.jsxs)("fieldset",{children:[Object(g.jsx)("legend",{children:"Rating"}),Object(g.jsx)("div",{className:"display-rated",children:[5,4,3,2,1].map((function(e){return Object(g.jsxs)(n.Fragment,{children:[Object(g.jsx)("input",{checked:t.rating===e,id:e,type:"radio",value:e,readOnly:!0}),Object(g.jsx)("label",{disabled:!0,htmlFor:e})]},e)}))})]}),Object(g.jsxs)("fieldset",{children:[Object(g.jsx)("legend",{children:"Visit Date"}),Object(g.jsx)("small",{children:new Date(t.visitDate).toString().slice(0,16)})]})]})},w={right:10,top:10};var k=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],i=t[1],a=Object(n.useState)({}),l=Object(u.a)(a,2),o=l[0],p=l[1],O=Object(n.useState)(null),h=Object(u.a)(O,2),x=h[0],f=h[1],k=Object(n.useState)({latitude:9,longitude:7,zoom:6}),S=Object(u.a)(k,2),C=S[0],N=S[1],D=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){D()}),[]),Object(g.jsxs)(b.e,Object(s.a)(Object(s.a)({},C),{},{width:"100vw",height:"100vh",mapStyle:"mapbox://styles/mapbox/streets-v11",doubleClickZoom:!1,maxZoom:16,onViewportChange:function(e){return N(e)},onDblClick:function(e){var t=Object(u.a)(e.lngLat,2),c=t[0],n=t[1];f({longitude:c,latitude:n})},keyboard:!1,children:[Object(g.jsx)(b.c,{style:w}),Object(g.jsx)(b.a,{style:{right:10,top:10},positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,auto:!0}),c.map((function(e){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(b.b,{latitude:e.latitude,longitude:e.longitude,children:Object(g.jsx)("div",{onClick:function(){return p(Object(r.a)({},e._id,!0))},children:Object(g.jsxs)("svg",{style:{transform:"translate(-50%, -100% )"},height:"24",width:"24","z-index":"-1",position:"absolute",children:[Object(g.jsx)("path",{d:"m12 0c-4.4183 2.3685e-15 -8 3.5817-8 8 0 1.421 0.3816 2.75 1.0312 3.906 0.1079 0.192 0.221 0.381 0.3438 0.563l6.625 11.531 6.625-11.531c0.102-0.151 0.19-0.311 0.281-0.469l0.063-0.094c0.649-1.156 1.031-2.485 1.031-3.906 0-4.4183-3.582-8-8-8zm0 4c2.209 0 4 1.7909 4 4 0 2.209-1.791 4-4 4-2.2091 0-4-1.791-4-4 0-2.2091 1.7909-4 4-4z",fill:"#e74c3c"}),Object(g.jsx)("path",{d:"m12 3c-2.7614 0-5 2.2386-5 5 0 2.761 2.2386 5 5 5 2.761 0 5-2.239 5-5 0-2.7614-2.239-5-5-5zm0 2c1.657 0 3 1.3431 3 3s-1.343 3-3 3-3-1.3431-3-3 1.343-3 3-3z",fill:"#c0392b"})]})})},e._id),o[e._id]?Object(g.jsx)(b.d,{latitude:e.latitude,longitude:e.longitude,closeButton:!0,closeOnClick:!0,dynamicPosition:!0,onClose:function(){return p({})},anchor:"top",children:Object(g.jsx)(y,{location:e})}):null,x?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(b.b,{latitude:x.latitude,longitude:x.longitude,children:Object(g.jsx)("div",{children:Object(g.jsxs)("svg",{style:{transform:"translate(-50%, -100% )"},height:"24",width:"24",stroke:"black",strokeWidth:".2",children:[Object(g.jsx)("path",{d:"m12 0c-4.4183 2.3685e-15 -8 3.5817-8 8 0 1.421 0.3816 2.75 1.0312 3.906 0.1079 0.192 0.221 0.381 0.3438 0.563l6.625 11.531 6.625-11.531c0.102-0.151 0.19-0.311 0.281-0.469l0.063-0.094c0.649-1.156 1.031-2.485 1.031-3.906 0-4.4183-3.582-8-8-8zm0 4c2.209 0 4 1.7909 4 4 0 2.209-1.791 4-4 4-2.2091 0-4-1.791-4-4 0-2.2091 1.7909-4 4-4z",fill:"yellow"}),Object(g.jsx)("path",{d:"m12 3c-2.7614 0-5 2.2386-5 5 0 2.761 2.2386 5 5 5 2.761 0 5-2.239 5-5 0-2.7614-2.239-5-5-5zm0 2c1.657 0 3 1.3431 3 3s-1.343 3-3 3-3-1.3431-3-3 1.343-3 3-3z",fill:"#c0392b"})]})})},e._id),Object(g.jsx)(b.d,{latitude:x.latitude,longitude:x.longitude,closeButton:!0,closeOnClick:!1,dynamicPosition:!0,onClose:function(){return f(!1)},anchor:"top",children:Object(g.jsx)("div",{className:"display-card",children:Object(g.jsx)(v,{onClose:function(){f(null),D()},location:x})})})]}):null]})}))]}))};l.a.render(Object(g.jsx)(i.a.StrictMode,{children:Object(g.jsx)(k,{})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.82733756.chunk.js.map